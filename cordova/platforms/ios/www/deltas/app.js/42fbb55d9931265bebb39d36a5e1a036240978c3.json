["function _2a6b21f2a429b2d476fbf8cd4ec7bba71ab91b2f",50,1445,"main){Instinct.controller.main",1467,525750,534371,89,"settings.settings){return setting",534485,56,"c,b){",534557,59,"a],function(d){if(d){sqlite.updateRow(\"settings\",d[0].id,[\"key\",\"value\"],[a,c],function(e){b()}",534701,54,"c],function(e){b()})}settings.settings[a]=c})}else{localStorage.setItem(a,c);b()}},loadSettings:function(a){if(window.cordova&&window.sqlitePlugin){settings={",535112,70,",removeAll:this.removeAll,settings:{}}",535660,62,",function(",534837,52,"b){data=sqlite.fetch(b);settings",534914,36,"c){settings.settings[c.key]=c.value});a(settings.settings)})})}else{settings={loadSettings:function(b){b()},get:function(c){var b=localStorage.getItem(c);if(b===null&&typeof b===\"object\"){return false}else{return b}},set:function(b,d,c){localStorage.setItem(b,d);if(typeof c==\"function\"){c()}return false},removeAll:function(b){b();return true}};a(settings.settings);if(window.cordova){Ext.Msg.alert(false,\"ERROR: SQLITE PLUGIN NOT WORKING!\")}}},removeAll:function(a){",534815,38,"DELETE FROM Settings\",[],function(b){a()})}},prepSettings:function(){console.log(\"settings done\");this.settings={};",535074,111,"console.log(this",535216,86,527217,3061,"settings.set(\"userId\",e.id);settings.set(\"userToken\",e.token",530356,167,"false,",530523,51,"false,",530574,104,"false,\"Login Failure\"",530695,1186,"c=settings.get(\"userId\");var d=settings.get(\"userToken\");if(c===false||d===false){b(false)}else{var a=function(h,g){if(h.status===200){var f=Ext.JSON.decode(h.responseText);if(f.errorHandle==\"alert\"){if(f.errorText!==\"\"){Ext.Msg.alert(false,f.errorText)}if(f.successText!==\"\"){Ext.Msg.alert(false,f.successText)}}if(f.success===true){b(true)}else{",532084,90,"e=function(g,f",532188,208,"c,token:d},success:a,failure:e})}",534288,36,532473,783,"false,",533256,34,"false,",533290,1092,535313,54,535726,407,"if(f.length>0){whereString=\" WHERE \"+fields}else{whereString=\"\"}",536133,35,"\"+whereString",536183,823,"function(){a(g)},c)},openDatabase:function(a){if(window.cordova&&window.sqlitePlugin",535401,174,535591,67,",androidDatabaseImplementation:2},function(b){sqlite.database=b;a()})}else{console.log(\"ERROR: SQLITE PLUGIN NOT FOUND!\");if(window.cordova){Ext.Msg.alert(false,\"ERROR: SQLITE PLUGIN NOT FOUND!\")}a()}",534288,36,537046,56,"controller.client.database",531822,33,"reateTables:function(a){if(window.cordova&&window.sqlitePlugin){this.checkUpdateTables();this.setSenchaStores();a()}else{a()}},setSenchaStores:function(){},deleteDatabase:function(a){window.sqlitePlugin.delete",535615,42,"\"default\"},function(e){console.log(e)},function(e){console.log(e)});var d=Ext.StoreManager.removeAll();for(var b=0;b<d.length;b++){var c=d.keys[b];Ext.getStore(c).destroy()}window.localStorage.clear();a()},checkUpdateTables:function(){",534288,36,"client,\"database",532496,44,"main.Menu",531359,66,529566,43,537102,1051,",\"client.database\",\"main.Menu",538152,140,538450,39,"d=\"\";var c=function(e){Instinct.app.getController(\"client.settings\").loadSettings(e)};var b=function(e){Instinct.app.getController(\"client.database\").createTables(e)};var a=function(){d=Ext.widget(\"instinctMain\");var e",538557,54,"var f=settings.get(\"userId\");var g=settings.get(\"userToken\");console.log(\"checking player data [\"+f+\"] [\"+g+\"]\");if(f===false||g===false){d=Ext.widget(\"instinctMain\");viewport.add(d)}else{e.checkToken(function(h){if(h===true){d=Ext.widget(\"mainMenu\");viewport.add(d)}else{d=Ext.widget(\"instinctMain\");viewport.add(d)}})}",538308,141,533450,44,"Sqlite\").openDatabase(function(){c(function(){b(function(){a()})})}",538784,776]