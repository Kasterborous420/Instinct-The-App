["function _2a6b21f2a429b2d476fbf8cd4ec7bba71ab91b2f",50,1445,"main){Instinct.controller.main",1467,509,"ettings=settings||{};",1971,525220,534345,89,"settings.settings){return setting",534459,56,"c,b){",534531,59,"a],function(d){if(d){sqlite.updateRow(\"settings\",d[0].id,[\"key\",\"value\"],[a,c],function(e){b()}",534675,54,"c],function(e){b()})}settings.settings[a]=c})}else{localStorage.setItem(a,c);b()}},loadSettings:function(a){if(window.cordova&&window.sqlitePlugin){settings={loadSettings:this.loadSettings,get:this.getSetting,set:this.setSetting,removeAll:this.removeAll,settings:{}};",535026,61,",function(",534811,52,"b){data=sqlite.fetch(b);settings",534888,36,"c){settings.settings[c.key]=c.value});a(settings.settings)})})}else{settings={loadSettings:function(b){b()},get:function(c){var b=localStorage.getItem(c);if(b===null&&typeof b===\"object\"){return false}else{return b}},set:function(b,d,c){localStorage.setItem(b,d);if(typeof c==\"function\"){c()}return false},removeAll:function(b){b();return true}};a(settings.settings);if(window.cordova){Ext.Msg.alert(false,\"ERROR: SQLITE PLUGIN NOT WORKING!\")}}},removeAll:function(a){",534789,38,"DELETE FROM Settings\",[],function(b){a()})}},prepSettings:function(){console.log(\"settings done\");this.settings={};Ext.define(\"settings\",{singleton:true,loadSettings:this.loadSettings,get:this.getSetting,set:this.setSetting});console.log(this)",530988,35,535130,50,527191,3061,"settings.set(\"userId\",e.id);settings.set(\"userToken\",e.token",530330,167,"false,",530497,51,"false,",532087,45,530593,59,"false,\"Login Failure\"",530669,1186,"c=settings.get(\"userId\");var d=settings.get(\"userToken\");if(c===false||d===false){b(false)}else{var a=function(h,g){if(h.status===200){var f=Ext.JSON.decode(h.responseText);if(f.errorHandle==\"alert\"){if(f.errorText!==\"\"){Ext.Msg.alert(false,f.errorText)}if(f.successText!==\"\"){Ext.Msg.alert(false,f.successText)}}if(f.success===true){b(true)}else{",532058,90,"e=function(g,f",532162,208,"c,token:d},success:a,failure:e})",531200,37,532447,783,"false,",533230,34,"false,",533264,1092,535191,54,535541,407,"if(f.length>0){whereString=\" WHERE \"+fields}else{whereString=\"\"}",535948,35,"\"+whereString",535998,823,"function(){a(g)},c)},openDatabase:function(a){if(window.cordova&&window.sqlitePlugin",535279,174,535469,67,",androidDatabaseImplementation:2},function(b){sqlite.database=b;a()})}else{console.log(\"ERROR: SQLITE PLUGIN NOT FOUND!\");if(window.cordova){Ext.Msg.alert(false,\"ERROR: SQLITE PLUGIN NOT FOUND!\")}a()",531200,54,536878,39,"controller.client.databas",535212,33,"createTables:function(a){if(window.cordova&&window.sqlitePlugin){this.checkUpdateTables();this.setSenchaStores();a()}else{a()}},setSenchaStores:function(){},deleteDatabase:function(a){window.sqlitePlugin.delete",535493,42,"\"default\"},function(e){console.log(e)},function(e){console.log(e)});var d=Ext.StoreManager.removeAll();for(var b=0;b<d.length;b++){var c=d.keys[b];Ext.getStore(c).destroy()}window.localStorage.clear();a()},checkUpdateTables:function(){",530988,35,".client,\"database",526527,33,"controller.main.Menu",531333,66,"main,\"Menu",526527,38,536922,1046,",\"client.database\",\"main.Menu",537967,140,538265,39,"d=\"\";var c=function(e){Instinct.app.getController(\"client.settings\").loadSettings(e)};var b=function(e){Instinct.app.getController(\"client.database\").createTables(e)};var a=function(){d=Ext.widget(\"instinctMain\");var e",538372,54,"var f=settings.get(\"userId\");var g=settings.get(\"userToken\");console.log(\"checking player data [\"+f+\"] [\"+g+\"]\");if(f===false||g===false){d=Ext.widget(\"instinctMain\");viewport.add(d)}else{e.checkToken(function(h){if(h===true){d=Ext.widget(\"mainMenu\");viewport.add(d)}else{d=Ext.widget(\"instinctMain\");viewport.add(d)}})}",538123,141,533424,44,"Sqlite\").openDatabase(function(){c(function(){b(function(){a()})})})}}",526827,33,538635,740]